DROP TABLE AMIGOSECRETO;
DROP TABLE LISTAPRESENTE;
DROP TABLE PRESENTE;
DROP TABLE AMIGO;

CREATE TABLE AMIGO(
    AID NUMBER PRIMARY KEY,
    ANOME VARCHAR2(100),
    SEXO CHAR,
    IDADE NUMBER(8)
);

CREATE TABLE PRESENTE(
    PID NUMBER PRIMARY KEY,
    PDESCRICAO VARCHAR2(100),
    PVALOR NUMBER(10,2)
);

CREATE TABLE LISTAPRESENTE(
    AID NUMBER NOT NULL,
    PID NUMBER NOT NULL,
    PREFERENCIA NUMBER(2),
    CONSTRAINT PK_LP PRIMARY KEY(AID, PID),
    CONSTRAINT FK_LPA FOREIGN KEY(AID) REFERENCES AMIGO(AID),
    CONSTRAINT FK_LPP FOREIGN KEY(PID) REFERENCES PRESENTE(PID)
);

CREATE TABLE AMIGOSECRETO(
    AID NUMBER NOT NULL,
    AID_AMIGO NUMBER NOT NULL,
    PID_RECEBIDO NUMBER NOT NULL,
    CONSTRAINT PK_AS PRIMARY KEY(AID),
    CONSTRAINT FK_ASA FOREIGN KEY(AID_AMIGO) REFERENCES AMIGO(AID),
    CONSTRAINT FK_ASP FOREIGN KEY(PID_RECEBIDO) REFERENCES PRESENTE(PID)
);

--AMIGO
INSERT INTO AMIGO(AID,ANOME, SEXO,IDADE) 
    VALUES(1, 'Márcia','F', 21);
INSERT INTO AMIGO(AID,ANOME, SEXO,IDADE) 
    VALUES(2, 'Mário','M', 61);
INSERT INTO AMIGO(AID,ANOME, SEXO,IDADE) 
    VALUES(3, 'Mariano','M', 51);
INSERT INTO AMIGO(AID,ANOME, SEXO,IDADE) 
    VALUES(4, 'Moura','M', 25);
INSERT INTO AMIGO(AID,ANOME, SEXO,IDADE) 
    VALUES(5, 'Marta','F', 22); 

--PRESENTE
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(1, 'Jogo de Damas',70);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(2, 'Xadrez',110);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(3, 'Lousa Mágica',100);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(4, 'Camiseta',100);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(5, 'Tênis',350);    
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(6, 'Caça-palavras',40);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(7, 'Kindle',200);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(8, 'Chrome Cast ',300);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(9, 'DVD Player',400);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(10, 'Uno',90);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(11, 'Batalha Naval',120.50);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(12, 'Imagem e Ação',150);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(13, 'Brincos',100);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(14, 'Pulseira',50);
INSERT INTO PRESENTE(PID,PDESCRICAO,PVALOR) 
    VALUES(15, 'Óculos de sol',300);   
    
--LISTAPRESENTE
INSERT INTO LISTAPRESENTE(AID, PID,PREFERENCIA) 
    VALUES(1, 1,1);   
INSERT INTO LISTAPRESENTE(AID, PID,PREFERENCIA) 
    VALUES(1, 2,2);       
INSERT INTO LISTAPRESENTE(AID, PID,PREFERENCIA) 
    VALUES(1, 3,3);           
INSERT INTO LISTAPRESENTE(AID, PID,PREFERENCIA) 
    VALUES(2, 3,1);   
INSERT INTO LISTAPRESENTE(AID, PID,PREFERENCIA) 
    VALUES(2, 4,2);       
INSERT INTO LISTAPRESENTE(AID, PID,PREFERENCIA) 
    VALUES(2, 5,3);           
INSERT INTO LISTAPRESENTE(AID, PID,PREFERENCIA) 
    VALUES(3, 6,1);   
INSERT INTO LISTAPRESENTE(AID, PID,PREFERENCIA) 
    VALUES(4, 7,1);       
INSERT INTO LISTAPRESENTE(AID, PID,PREFERENCIA) 
    VALUES(5, 8,1);           

--AMIGOSECRETO
INSERT INTO AMIGOSECRETO(AID, AID_AMIGO, PID_RECEBIDO)
    VALUES(1,2,4);
INSERT INTO AMIGOSECRETO(AID, AID_AMIGO, PID_RECEBIDO)
    VALUES(2,3,6);    
INSERT INTO AMIGOSECRETO(AID, AID_AMIGO, PID_RECEBIDO)
    VALUES(3,4,7);
INSERT INTO AMIGOSECRETO(AID, AID_AMIGO, PID_RECEBIDO)
    VALUES(4,5,8);    
INSERT INTO AMIGOSECRETO(AID, AID_AMIGO, PID_RECEBIDO)
    VALUES(5,1,1);    
    
COMMIT;   
