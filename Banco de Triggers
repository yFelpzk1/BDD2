DROP TABLE AMIGOSECRETO;
DROP TABLE LISTAPRESENTE;
DROP TABLE PRESENTE;
DROP TABLE AMIGO;

CREATE TABLE AMIGO(
    AID NUMBER PRIMARY KEY,
    ANOME VARCHAR2(100),
    SEXO CHAR,
    IDADE NUMBER(8)
);

CREATE TABLE PRESENTE(
    PID NUMBER PRIMARY KEY,
    PDESCRICAO VARCHAR2(100),
    PVALOR NUMBER(10,2)
);

CREATE TABLE LISTAPRESENTE(
    AID NUMBER NOT NULL,
    PID NUMBER NOT NULL,
    PREFERENCIA NUMBER(2),
    CONSTRAINT PK_LP PRIMARY KEY(AID, PID),
    CONSTRAINT FK_LPA FOREIGN KEY(AID) REFERENCES AMIGO(AID),
    CONSTRAINT FK_LPP FOREIGN KEY(PID) REFERENCES PRESENTE(PID)
);

CREATE TABLE AMIGOSECRETO(
    AID NUMBER NOT NULL,
    AID_AMIGO NUMBER NOT NULL,
    PID_RECEBIDO NUMBER NOT NULL,
    CONSTRAINT PK_AS PRIMARY KEY(AID),
    CONSTRAINT FK_ASA FOREIGN KEY(AID_AMIGO) REFERENCES AMIGO(AID),
    CONSTRAINT FK_ASP FOREIGN KEY(PID_RECEBIDO) REFERENCES PRESENTE(PID)
);

-- AMIGO 
INSERT INTO AMIGO(AID, ANOME, SEXO, IDADE) 
    VALUES(1, 'Max Verstappen', 'M', 28);

INSERT INTO AMIGO(AID, ANOME, SEXO, IDADE) 
    VALUES(2, 'Lewis Hamilton', 'M', 40);

INSERT INTO AMIGO(AID, ANOME, SEXO, IDADE) 
    VALUES(3, 'Fernando Alonso', 'M', 44);

INSERT INTO AMIGO(AID, ANOME, SEXO, IDADE) 
    VALUES(4, 'Charles Leclerc', 'M', 28);

INSERT INTO AMIGO(AID, ANOME, SEXO, IDADE) 
    VALUES(5, 'Kelly Piquet', 'F', 36); 
    
-- PRESENTE 
INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(1, 'Miniatura Red Bull RB19', 70);

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(2, 'Boné Mercedes AMG Oficial', 110);

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(3, 'Jogo Dispatch', 88.99); 

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(4, 'Camiseta McLaren Laranja', 100);

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(5, 'Sapatilha de Piloto Puma', 350);    

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(6, 'Chaveiro Pneu Pirelli', 40);

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(7, 'Biografia Adrian Newey', 200);

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(8, 'Assinatura F1 TV Pro', 300);

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(9, 'Jogo EA SPORTS F1 25 ', 300);

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(10, 'Caneca Equipe Alpine', 90);

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(11, 'Luvas de Kart', 120.50);

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(12, 'Poster Circuito Interlagos', 150);

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(13, 'Protetor Auricular Paddock', 100);

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(14, 'Jogo EA SPORTS FC 26', 360);

INSERT INTO PRESENTE(PID, PDESCRICAO, PVALOR) 
    VALUES(15, 'Óculos de Sol do Gasly', 300);    
    
-- LISTAPRESENTE
INSERT INTO LISTAPRESENTE(AID, PID, PREFERENCIA) 
    VALUES(1, 1, 1); -- Verstappen quer a miniatura do carro dele    
INSERT INTO LISTAPRESENTE(AID, PID, PREFERENCIA) 
    VALUES(1, 2, 2);        
INSERT INTO LISTAPRESENTE(AID, PID, PREFERENCIA) 
    VALUES(1, 3, 3);            

INSERT INTO LISTAPRESENTE(AID, PID, PREFERENCIA) 
    VALUES(2, 3, 1);   
INSERT INTO LISTAPRESENTE(AID, PID, PREFERENCIA) 
    VALUES(2, 4, 2);        
INSERT INTO LISTAPRESENTE(AID, PID, PREFERENCIA) 
    VALUES(2, 5, 3);            

INSERT INTO LISTAPRESENTE(AID, PID, PREFERENCIA) 
    VALUES(3, 6, 1);   

INSERT INTO LISTAPRESENTE(AID, PID, PREFERENCIA) 
    VALUES(4, 7, 1);      

INSERT INTO LISTAPRESENTE(AID, PID, PREFERENCIA) 
    VALUES(5, 8, 1);          

-- AMIGOSECRETO 

INSERT INTO AMIGOSECRETO(AID, AID_AMIGO, PID_RECEBIDO)
    VALUES(1, 2, 4);

INSERT INTO AMIGOSECRETO(AID, AID_AMIGO, PID_RECEBIDO)
    VALUES(2, 3, 6);    

INSERT INTO AMIGOSECRETO(AID, AID_AMIGO, PID_RECEBIDO)
    VALUES(3, 4, 7);

INSERT INTO AMIGOSECRETO(AID, AID_AMIGO, PID_RECEBIDO)
    VALUES(4, 5, 8);    

INSERT INTO AMIGOSECRETO(AID, AID_AMIGO, PID_RECEBIDO)
    VALUES(5, 1, 1);

COMMIT;   
